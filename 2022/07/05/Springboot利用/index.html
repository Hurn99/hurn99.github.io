<!DOCTYPE html><html lang="zh"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=0.5"><link rel="stylesheet" href="/css/post.css"><link rel="icon" href="/img/favicon.png"><title>Springboot利用</title><meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body>　　<div class="inner"><h2>Springboot利用</h2><h1 id="密码导出"><a href="#密码导出" class="headerlink" title="密码导出"></a>密码导出</h1><ul>
<li>heapdump ，快照导出</li>
</ul>
<blockquote>
<p>需要能访问到 <code>/heapdump</code> 或 <code>/actuator/heapdump</code> 接口 </p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/LandGrey/SpringBootVulExploit#0x06restart-h2-database-query-rce:~:text=Eclipse%20Memory%20Analyzer">工具下载链接</a> ，使用以下语句进行搜索：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs SQL"># 搜索password等关键字<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> java.util.Hashtable$Entry x <span class="hljs-keyword">WHERE</span> (toString(x.key).<span class="hljs-keyword">contains</span>(&quot;password&quot;))<br># 或<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> java.util.LinkedHashMap$Entry x <span class="hljs-keyword">WHERE</span> (toString(x.key).<span class="hljs-keyword"><code class="language-hljs SQL"># 搜索password等关键字<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> java.util.Hashtable$Entry x <span class="hljs-keyword">WHERE</span> (toString(x.key).<span class="hljs-keyword">contains</span>(&quot;password&quot;))<br># 或<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> java.util.LinkedHashMap$Entry x <span class="hljs-keyword">WHERE</span> (toString(x.key).<span class="hljs-keyword">contains</span>("password"))<br></code></pre></td></tr></table></figure>

<ul>
<li></li>
</ul>
<h1 id="Eureka-Xstream-Deserialization-RCE"><a href="#Eureka-Xstream-Deserialization-RCE" class="headerlink" title="Eureka Xstream Deserialization RCE"></a>Eureka Xstream Deserialization RCE</h1><p>利用条件：</p>
<ul>
<li><p>POST访问 /env 、/refresh接口设置、刷新熟悉</p>
</li>
<li><p>存在Eureke-client &lt; 1.8.7</p>
<blockquote>
<p>在env中可以搜 netflix 判断是否存在依赖 </p>
<p>com.netflix.servo.DefaultMonitorRegistry.registryClass    “com.netflix.servo.BasicMonitorRegistry”</p>
</blockquote>
</li>
<li><p>Xstream依赖</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://0xn3va.gitbook.io/cheat-sheets/framework/spring/routing-abuse">https://0xn3va.gitbook.io/cheat-sheets/framework/spring/routing-abuse</a></p>
</div><script src="/js/jquery.min.js"></script><script src="/js/main.js"></script></body></html>